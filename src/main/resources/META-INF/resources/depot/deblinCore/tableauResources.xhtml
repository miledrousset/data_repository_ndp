<ui:fragment xmlns="http://www.w3.org/1999/xhtml"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:b="http://bootsfaces.net/ui" 
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui">

    <div class="container-xl">
        <div class="table-responsive">
            <div class="table-wrapper">
                <div class="table-title">
                    <div class="row">
                        <div class="col-sm-6">
                            <h2>Gestion des resources <b>Deblin Core</b></h2>
                        </div>
                        <div class="col-sm-6">
                            <a href="#deleteDebianCoreResource" class="btn btn-danger" data-toggle="modal">
                                <i class="material-icons">&#xE15C;</i> 
                                <span>Supprimer</span>
                            </a>						
                        </div>
                    </div>
                </div>
                <h:form id="resourcesArray">
                    <table id="resourceArray" class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>
                                    <span class="custom-checkbox">
                                    </span>
                                </th>
                                <th >Titre</th>
                                <th>Créateur</th>
                                <th>Type</th>
                                <th>Format</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ui:repeat value="#{dataDepotManager.deblinCoreUploated}" var="res">
                                <tr>
                                    <td>
                                        <span class="custom-checkbox">
                                            <p:selectBooleanCheckbox value="#{res.selected}"/>
                                        </span>
                                    </td>
                                    <td><h:outputText value="#{res.titre}"/></td>
                                    <td><h:outputText value="#{res.createur}"/></td>
                                    <td><h:outputText value="#{res.type}"/></td>
                                    <td><h:outputText value="#{res.format}"/></td>
                                    <td>
                                        <p:commandButton icon="pi pi-save" title="Editer la resource"
                                            oncomplete="PF('modifierdeblinCore').show();" style="color: #556270;"
                                            actionListener="#{dataDepotManager.setResourceSelected(res)}"
                                            ajax="true" update="mainDepos"/> 

                                        <p:commandButton icon="fa-remove" title="Supprimer resource"
                                                          oncomplete="PF('supprimerdeblinCore').show();" style="color: #d9232d;"
                                                          actionListener="#{dataDepotManager.setResourceSelected(res)}"
                                                          ajax="true" update="mainDepos"/> 
                                    </td>
                                </tr>
                            </ui:repeat>
                        </tbody>
                    </table>
                    <div class="clearfix">
                        <div class="hint-text">Affichage de <b>1</b> / <b>1</b> resource(s)</div>
                        <ul class="pagination">
                            <li class="page-item disabled"><a href="#">précédant</a></li>
                            <li class="page-item"><a href="#" class="page-link">1</a></li>
                            <li class="page-item"><a href="#" class="page-link">2</a></li>
                            <li class="page-item active"><a href="#" class="page-link">3</a></li>
                            <li class="page-item"><a href="#" class="page-link">4</a></li>
                            <li class="page-item"><a href="#" class="page-link">5</a></li>
                            <li class="page-item"><a href="#" class="page-link">Suivant</a></li>
                        </ul>
                    </div>

                </h:form>

                <p:dialog header="Modifier une resource" widgetVar="test" modal="true"
                          height="500" width="800">
                    <h:form>
                        <p:commandButton value="Ajouter" actionListener="#{dataDepotManager.modifierResource()}" 
                                         class="btn btn-success" update="mainDepos"/>

                        
                    </h:form>
                </p:dialog>
                <ui:include src="modifierResource.xhtml"/>
                <ui:include src="supprimerResouce.xhtml"/>
            </div>
        </div>        
    </div> 
</ui:fragment>